{"version":3,"sources":["components/login/LoginForm.module.scss","pages/Login/login.module.scss","components/ebook/info/ebookForm.module.scss","pages/Add/add.module.scss","components/common/AppLayout.module.scss","store/reducers/layoutReducer.js","store/actionTypes/index.js","store/reducers/authReducer.js","store/reducers/rootReducer.js","store/index.js","router/RouteGuard.jsx","utils/storage.js","utils/request.js","api/index.js","components/message/message.js","utils/constant.js","store/actionCreators/index.js","components/common/AppLayout.jsx","pages/Home/Home.jsx","components/login/LoginForm.jsx","pages/Login/Login.jsx","pages/List.jsx","pages/NotFound.jsx","components/ebook/sticky/Sticky.jsx","components/ebook/upload/Upload.jsx","components/ebook/info/EbookForm.jsx","pages/Add/Add.jsx","router/AppRouter.jsx","App.jsx","index.jsx","components/ebook/sticky/sticky.module.scss"],"names":["module","exports","initialState","isCollapsed","layoutReducer","state","action","type","isAuth","authToken","history","authReducer","Object","assign","payload","token","RootReducer","combineReducers","layout","auth","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","ReduxThunk","persistor","persistStore","PrivateRoute","children","rest","render","location","to","pathname","from","getToken","data","sessionStorage","getItem","JSON","parse","service","axios","create","baseURL","timeout","interceptors","request","use","config","headers","host","msgService","msg","message","success","error","login","username","password","dispatch","post","api","then","res","authenticate","push","catch","console","Header","Sider","Content","connect","toggle","signOut","props","useHistory","className","styles","wrapper","trigger","collapsible","collapsed","sidebar","header","onClick","home","icon","placement","title","overlay","Item","href","target","rel","menu","style","margin","padding","background","minHeight","content","Home","Component","LoginForm","handleSubmit","e","preventDefault","form","validateFields","err","values","log","submitToParent","getFieldDecorator","this","onSubmit","rules","required","prefix","color","placeholder","autoComplete","valuePropName","initialValue","htmlType","WrappedLoginForm","name","changeAuthStateToAuth","actionCreators","useLocation","replace","List","NotFound","Sticky","Dragger","multiple","onChange","info","status","file","fileList","UploadEbook","height","items","label","labelCol","span","wrapperCol","tailLayout","offset","EbookForm","map","item","index","Add","Upload","SubMenu","theme","mode","defaultSelectedKeys","Routes","path","component","isAuthenticated","role","exact","route","App","ReactDOM","loading","document","getElementById"],"mappings":"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","file":"static/js/main.f1437587.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"LoginForm_login-form__40Eo9\",\"login-form-forgot\":\"LoginForm_login-form-forgot__1yxxP\",\"login-form-button\":\"LoginForm_login-form-button__nJkDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__2h4O6\",\"login-box\":\"login_login-box__eOHuz\",\"title\":\"login_title__xyNIF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ebookForm_form__1c_g8\",\"form-item\":\"ebookForm_form-item__1Hfuh\",\"form-item-submit\":\"ebookForm_form-item-submit__2rdCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"add_wrapper__353VY\",\"placeholder\":\"add_placeholder__b5QBS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AppLayout_wrapper__3TxMO\",\"header\":\"AppLayout_header__2K45L\",\"trigger\":\"AppLayout_trigger__2CCeD\",\"home\":\"AppLayout_home__3as3z\",\"icon-group\":\"AppLayout_icon-group__28j-R\",\"icon-box\":\"AppLayout_icon-box__3XFcp\",\"icon\":\"AppLayout_icon__5QxPR\"};","import * as types from \"../actionTypes/index\";\n\nconst initialState = {\n  isCollapsed: false\n};\n\nconst layoutReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.SIDEBAR_COLLAPSE:\n      return {\n        isCollapsed: true\n      };\n    case types.SIDEBAR_SPREAD:\n      return {\n        isCollapsed: false\n      };\n    default:\n      return state;\n  }\n};\n\nexport default layoutReducer;\n","const SIDEBAR_COLLAPSE = \"SIDEBAR_COLLAPSE\";\nconst SIDEBAR_SPREAD = \"SIDEBAR_SPREAD\";\n\nconst AUTH = \"AUTH\";\nconst AUTH_NOT = \"AUTH_NOT\";\n\nexport { SIDEBAR_COLLAPSE, SIDEBAR_SPREAD, AUTH, AUTH_NOT };\n","import * as types from \"../actionTypes/index\";\n\nconst initialState = {\n  isAuth: false,\n  authToken: \"\",\n  history: null\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.AUTH:\n      return Object.assign({}, state, {\n        isAuth: true,\n        authToken: action.payload.token,\n        history: action.payload.history\n      });\n    case types.AUTH_NOT:\n      return Object.assign({}, state, {\n        isAuth: false,\n        authToken: \"\",\n        history: null\n      });\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { combineReducers } from \"redux\";\nimport layoutReducer from \"./layoutReducer\";\nimport authReducer from \"./authReducer\";\n\nconst RootReducer = combineReducers({\n  layout: layoutReducer,\n  auth: authReducer\n});\n\nexport default RootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage/session\";\nimport RootReducer from \"./reducers/rootReducer\";\nimport ReduxThunk from \"redux-thunk\";\n\n// persist state in redux\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  whitelist: [\"auth\"]\n};\n\nconst persistedReducer = persistReducer(persistConfig, RootReducer);\n\n// use redux devtool, redux-thunk middleware\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nlet store = createStore(\n  persistedReducer,\n  composeEnhancers(applyMiddleware(ReduxThunk))\n);\n\nlet persistor = persistStore(store);\n\nexport { store, persistor };\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction PrivateRoute({ children, ...rest }) {\n  const { isAuth } = { ...rest };\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        isAuth ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","// 获取token\nconst getToken = () => {\n  const data = sessionStorage.getItem(\"persist:root\");\n  const { auth } = JSON.parse(data);\n  const { authToken } = JSON.parse(auth);\n  return authToken;\n};\n\n// 删除token\nconst removeToken = () => {\n  sessionStorage.removeItem(\"persist:root\");\n};\n\nexport { getToken, removeToken };\n","import axios from \"axios\";\nimport { getToken } from \"./storage\";\n\n// create a axios instance\nconst service = axios.create({\n  baseURL: \"http://localhost:3000\",\n  timeout: 5000\n});\n\nservice.interceptors.request.use(config => {\n  // if token exists, then added to http header\n  if (getToken()) config.headers[\"Authorization\"] = getToken();\n  return config;\n});\n\nexport default service;\n","import axios from \"axios\";\nimport service from \"../utils/request\";\n\nconst host =\n  process.env.NODE_ENV !== \"production\"\n    ? \"http://localhost:23000\"\n    : \"http://120.55.47.104:12833\";\n\n// ajax req for login to get token\nconst checkAuth = (username, password) => {\n  return axios.post(`${host}/login`, {\n    username: username,\n    password: password\n  });\n};\n\nconst getProfile = () => {\n  return service.get(`${host}/profile`);\n};\n\nexport { checkAuth, getProfile };\n","import { message } from \"antd\";\nimport * as msgTypes from \"../../utils/constant\";\n\nconst msgService = (type, msg) => {\n  switch (type) {\n    case msgTypes.MSG_SUCCESS:\n      return message.success(msg);\n    case msgTypes.MSG_ERROR:\n      return message.error(msg);\n    default:\n      return null;\n  }\n};\n\nexport default msgService;\n","const MSG_SUCCESS = \"success\";\nconst MSG_ERROR = \"error\";\nconst MSG_WARNING = \"warning\";\n\nexport { MSG_SUCCESS, MSG_ERROR, MSG_WARNING };\n","import * as types from \"../actionTypes/index\";\nimport * as api from \"../../api/index\";\nimport msgService from \"../../components/message/message\";\n\n// collaspe sidebar or not\nconst collapseSidebar = () => ({\n  type: types.SIDEBAR_COLLAPSE\n});\n\nconst spreadSidebar = () => ({\n  type: types.SIDEBAR_SPREAD\n});\n\n// authenticate or not\nconst authenticate = (token, history) => ({\n  type: types.AUTH,\n  payload: {\n    token: token,\n    history: history\n  }\n});\n\nconst unauthenticate = () => ({\n  type: types.AUTH_NOT\n});\n\n// login - ajax request\nconst login = (username, password, history) => {\n  return dispatch => {\n    return api\n      .checkAuth(username, password)\n      .then(res => {\n        msgService(\"success\", \"登录成功！\");\n        dispatch(authenticate(res.data.token, history));\n        history.push(\"/\");\n      })\n      .catch(error => {\n        msgService(\"error\", \"输入帐号密码错误\");\n        console.error(error);\n      });\n  };\n};\n\nexport { collapseSidebar, spreadSidebar, authenticate, unauthenticate, login };\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../store/actionCreators/index\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Layout, Menu, Icon, Tooltip, Dropdown } from \"antd\";\nimport styles from \"./AppLayout.module.scss\";\n\nconst { Header, Sider, Content } = Layout;\n\nconst menu = (signOut, history) => (\n  <Menu>\n    <Menu.Item>\n      <a\n        href=\"https://github.com/cnscorpions/React-Nest-Admin\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        源码\n      </a>\n    </Menu.Item>\n    <Menu.Item onClick={() => signOut(history)}>\n      <span>退出</span>\n    </Menu.Item>\n  </Menu>\n);\n\nconst AppLayout = props => {\n  let history = useHistory();\n\n  // 结构赋值\n  const { isCollapsed, toggle, signOut } = props;\n\n  return (\n    <Layout className={styles.wrapper}>\n      <Sider trigger={null} collapsible collapsed={isCollapsed}>\n        {props.sidebar}\n      </Sider>\n      <Layout>\n        <Header className={styles.header}>\n          <Icon\n            className={styles[\"trigger\"]}\n            type={isCollapsed ? \"menu-unfold\" : \"menu-fold\"}\n            onClick={() => toggle(isCollapsed)}\n          />\n          <span className={styles.home}>首页</span>\n          <div className={styles[\"icon-group\"]}>\n            <span className={styles[\"icon-box\"]}>\n              <Icon className={styles.icon} type=\"fullscreen\" />\n            </span>\n            <span className={styles[\"icon-box\"]}>\n              <Tooltip placement=\"bottom\" title=\"字体大小\">\n                <Icon className={styles.icon} type=\"font-size\" />\n              </Tooltip>\n            </span>\n            <span className={styles[\"icon-box\"]}>\n              <Dropdown\n                overlay={() => menu(signOut, history)}\n                placement=\"bottomCenter\"\n              >\n                <Icon className={styles.icon} type=\"more\" />\n              </Dropdown>\n            </span>\n          </div>\n        </Header>\n        <Content\n          style={{\n            margin: \"24px 16px\",\n            padding: 24,\n            background: \"#fff\",\n            minHeight: 280\n          }}\n        >\n          {props.content}\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nconst mapStateToProps = state => ({\n  isCollapsed: state.layout.isCollapsed\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggle(isCollapsed) {\n      const action = isCollapsed\n        ? actionCreators.spreadSidebar()\n        : actionCreators.collapseSidebar();\n      dispatch(action);\n    },\n    signOut(history) {\n      const action = actionCreators.unauthenticate();\n      dispatch(action);\n      history.push(\"/login\");\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppLayout);\n","import React, { Component } from \"react\";\n\nclass Home extends Component {\n  render() {\n    return <div>Home</div>;\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport styles from \"./LoginForm.module.scss\";\n\nclass LoginForm extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log(\"Received values of form: \", values);\n        this.props.submitToParent(values);\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form onSubmit={this.handleSubmit} className={styles[\"login-form\"]}>\n        <Form.Item>\n          {getFieldDecorator(\"username\", {\n            rules: [{ required: true, message: \"请输入用户名！\" }]\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              placeholder=\"帐号\"\n              autoComplete=\"on\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator(\"password\", {\n            rules: [{ required: true, message: \"请输入密码！\" }]\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              type=\"password\"\n              placeholder=\"密码\"\n              autoComplete=\"on\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator(\"remember\", {\n            valuePropName: \"checked\",\n            initialValue: true\n          })(<Checkbox>记住密码</Checkbox>)}\n          <a className={styles[\"login-form-forgot\"]} href=\"/forget-pwd\">\n            忘记密码\n          </a>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className={styles[\"login-form-button\"]}\n          >\n            登录\n          </Button>\n          或 <a href=\"/home\">现在注册！</a>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedLoginForm = Form.create({ name: \"normal_login\" })(LoginForm);\n\nexport default WrappedLoginForm;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport * as actionCreators from \"../../store/actionCreators/index\";\nimport LoginForm from \"../../components/login/LoginForm\";\n\nimport styles from \"./login.module.scss\";\n\nfunction Login(props) {\n  let history = useHistory();\n  let location = useLocation();\n\n  // 路径\n  let { from } = location.state || { from: { pathname: \"/\" } };\n\n  const { changeAuthStateToAuth } = props;\n  let login = ({ username, password }) => {\n    // 修改auth状态，并且跳转\n    changeAuthStateToAuth(username, password, history);\n    history.replace(from);\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles[\"login-box\"]}>\n        <h3 className={styles.title}>图书管理后台</h3>\n        <LoginForm submitToParent={login} />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  isAuth: state.auth.isAuth\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeAuthStateToAuth(username, password, history) {\n      // ajax request via redux thunk\n      const action = actionCreators.login(username, password, history);\n      dispatch(action);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { Component } from \"react\";\n\nclass List extends Component {\n  render() {\n    return <div>List</div>;\n  }\n}\n\nexport default List;\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nfunction NotFound(props) {\n  let location = useLocation();\n  return (\n    <div>\n      <h3>\n        404 not found. <code>{location.pathname}</code>\n      </h3>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport * as styles from \"./sticky.module.scss\";\n\nfunction Sticky(props) {\n  return (\n    <div className={styles.wrapper + \" \" + styles.sticky}>\n      <div className={styles[\"btn-group\"]}>\n        <Button className={styles[\"btn-help\"]}>显示帮助</Button>\n        <Button className={styles[\"btn-add\"]}>新增电子书</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Sticky;\n","import React from \"react\";\nimport { Upload, message, Icon } from \"antd\";\n\nconst { Dragger } = Upload;\n\nconst props = {\n  name: \"file\",\n  multiple: false,\n  action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n  onChange(info) {\n    const { status } = info.file;\n    if (status !== \"uploading\") {\n      console.log(info.file, info.fileList);\n    }\n    if (status === \"done\") {\n      message.success(`${info.file.name} file uploaded successfully.`);\n    } else if (status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  }\n};\n\nfunction UploadEbook() {\n  return (\n    <div style={{ height: \"240px\" }}>\n      <Dragger {...props}>\n        <p className=\"ant-upload-drag-icon\">\n          <Icon type=\"inbox\" />\n        </p>\n        <p className=\"ant-upload-text\">点击或拖拽上传</p>\n      </Dragger>\n    </div>\n  );\n}\n\nexport default UploadEbook;\n","import React from \"react\";\nimport { Form, Input, Button } from \"antd\";\nimport * as styles from \"./ebookForm.module.scss\";\n\nconst items = [\n  {\n    label: \"书名\",\n    name: \"bookName\"\n  },\n  {\n    label: \"作者\",\n    name: \"author\"\n  },\n  {\n    label: \"出版社\",\n    name: \"publisher\"\n  },\n  {\n    label: \"语言\",\n    name: \"language\"\n  },\n  {\n    label: \"根文件\",\n    name: \"rootFile\"\n  },\n  {\n    label: \"文件路径\",\n    name: \"filePath\"\n  },\n  {\n    label: \"解压路径\",\n    name: \"unzipPath\"\n  },\n  {\n    label: \"封面路径\",\n    name: \"coverPath\"\n  },\n  {\n    label: \"文件名称\",\n    name: \"fileName\"\n  },\n  {\n    label: \"封面\",\n    name: \"cover\"\n  },\n  {\n    label: \"目录\",\n    name: \"catagory\"\n  }\n];\n\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\n\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nconst getFormItem = items => {\n  const els = items.map((item, index) => (\n    <Form.Item\n      key={index}\n      label={item.label}\n      name={item.name}\n      rules={[\n        {\n          required: true,\n          message: `请输入！${item.label}`\n        }\n      ]}\n      className={styles[\"form-item\"]}\n    >\n      <Input />\n    </Form.Item>\n  ));\n  return els;\n};\n\nfunction EbookForm(props) {\n  return (\n    <Form {...layout} name=\"basic\" className={styles.form}>\n      {getFormItem(items)}\n      <Form.Item {...tailLayout} className={styles[\"form-item-submit\"]}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          提交\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default EbookForm;\n","import React, { Component } from \"react\";\nimport Sticky from \"../../components/ebook/sticky/Sticky\";\nimport UploadEbook from \"../../components/ebook/upload/Upload\";\nimport EbookForm from \"../../components/ebook/info/EbookForm\";\nimport * as styles from \"./add.module.scss\";\n\nclass Add extends Component {\n  render() {\n    return (\n      <div className={styles.wrapper}>\n        <Sticky />\n        <UploadEbook />\n        <EbookForm />\n      </div>\n    );\n  }\n}\n\nexport default Add;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PrivateRoute from \"./RouteGuard\";\nimport { Menu, Icon } from \"antd\";\nimport AppLayout from \"../components/common/AppLayout\";\n\nimport Home from \"../pages/Home/Home\";\nimport Login from \"../pages/Login/Login\";\nimport List from \"../pages/List\";\nimport NotFound from \"../pages/NotFound\";\nimport Add from \"../pages/Add/Add\";\n\nconst { SubMenu } = Menu;\n\nconst sidebar = (\n  <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\n    <Menu.Item key=\"1\">\n      <Link to=\"/\">\n        <Icon type=\"dashboard\" />\n        <span>首页</span>\n      </Link>\n    </Menu.Item>\n    <SubMenu\n      key=\"sub1\"\n      title={\n        <span>\n          <Icon type=\"book\" />\n          <span>图书管理</span>\n        </span>\n      }\n    >\n      <Menu.Item key=\"sub1-1\">\n        <Link to=\"/list\">\n          <Icon type=\"menu\" />\n          <span>图书列表</span>\n        </Link>\n      </Menu.Item>\n      <Menu.Item key=\"sub1-2\">\n        <Link to=\"/add\">\n          <Icon type=\"edit\" />\n          <span>添加图书</span>\n        </Link>\n      </Menu.Item>\n    </SubMenu>\n    <Menu.Item key=\"2\">\n      <a\n        href=\"https://github.com/cnscorpions/React-Nest-Admin\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Icon type=\"github\" />\n        <span>Githu</span>\n      </a>\n    </Menu.Item>\n  </Menu>\n);\n\n// define route configuration except login, 404\nconst Routes = [\n  {\n    path: \"/\",\n    component: Home,\n    isAuthenticated: true, // authed\n    role: [\"root\", \"user\"] // root or user\n  },\n  {\n    path: \"/list\",\n    component: List,\n    isAuthenticated: true,\n    role: [\"root\", \"user\"]\n  },\n  {\n    path: \"/add\",\n    component: Add,\n    isAuthenticated: true,\n    role: [\"root\"]\n  }\n];\n\nfunction AppRouter(props) {\n  const { isAuth } = props;\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/login\">\n          <Login />\n        </Route>\n        {Routes.map((route, index) => (\n          <PrivateRoute key={index} exact path={route.path} isAuth={isAuth}>\n            <AppLayout content={<route.component />} sidebar={sidebar} />\n          </PrivateRoute>\n        ))}\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nconst mapStateToProps = state => ({\n  isAuth: state.auth.isAuth\n});\n\nexport default connect(mapStateToProps, null)(AppRouter);\n","import React from \"react\";\nimport AppRouter from \"./router/AppRouter\";\nimport \"./styles/global.scss\";\n\nfunction App() {\n  return <AppRouter></AppRouter>;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./store/index\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"sticky_wrapper__2Nn6c\",\"btn-group\":\"sticky_btn-group__1IlPG\",\"btn-help\":\"sticky_btn-help__1inQ4\",\"btn-add\":\"sticky_btn-add__Jhbbi\",\"sticky\":\"sticky_sticky__1DhND\"};"],"sourceRoot":""}
(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{106:function(e,t,a){e.exports={"login-form":"LoginForm_login-form__40Eo9","login-form-forgot":"LoginForm_login-form-forgot__1yxxP","login-form-button":"LoginForm_login-form-button__nJkDr"}},107:function(e,t,a){e.exports={wrapper:"login_wrapper__2h4O6","login-box":"login_login-box__eOHuz",title:"login_title__xyNIF"}},108:function(e,t,a){e.exports={form:"ebookForm_form__1c_g8","form-item":"ebookForm_form-item__1Hfuh","form-item-submit":"ebookForm_form-item-submit__2rdCB"}},201:function(e,t,a){e.exports={wrapper:"add_wrapper__353VY",placeholder:"add_placeholder__b5QBS"}},207:function(e,t,a){e.exports=a(434)},30:function(e,t,a){e.exports={wrapper:"AppLayout_wrapper__3TxMO",header:"AppLayout_header__2K45L",trigger:"AppLayout_trigger__2CCeD",home:"AppLayout_home__3as3z","icon-group":"AppLayout_icon-group__28j-R","icon-box":"AppLayout_icon-box__3XFcp",icon:"AppLayout_icon__5QxPR"}},433:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),o=a.n(l),c=a(49),i=a(187),u=a(27),s=a(138),m=a(188),p=a.n(m),h={isCollapsed:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIDEBAR_COLLAPSE":return{isCollapsed:!0};case"SIDEBAR_SPREAD":return{isCollapsed:!1};default:return e}},b={isAuth:!1,authToken:"",history:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return Object.assign({},e,{isAuth:!0,authToken:t.payload.token,history:t.payload.history});case"AUTH_NOT":return Object.assign({},e,{isAuth:!1,authToken:"",history:null});default:return e}},E=Object(u.c)({layout:f,auth:d}),g=a(189),_={key:"root",storage:p.a,whitelist:["auth"]},y=Object(s.a)(_,E),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,v=Object(u.e)(y,O(Object(u.a)(g.a))),k=Object(s.b)(v),N=(a(88),a(4)),j=(a(139),a(33)),A=a(40),w=a(52),x=a(205),C=a(190);var S=function(e){var t=e.children,a=Object(C.a)(e,["children"]),n=Object(x.a)({},a).isAuth;return r.a.createElement(w.b,Object.assign({},a,{render:function(e){var a=e.location;return n?t:r.a.createElement(w.a,{to:{pathname:"/login",state:{from:a}}})}}))},I=(a(222),a(203)),L=(a(110),a(65)),T=(a(225),a(69)),D=a(101),P=a.n(D),R=function(){var e=sessionStorage.getItem("persist:root"),t=JSON.parse(e).auth;return JSON.parse(t).authToken},F=P.a.create({baseURL:"http://localhost:3000",timeout:5e3});F.interceptors.request.use((function(e){return R()&&(e.headers.Authorization=R()),e}));a(148);var H=a(68),B=function(e,t){switch(e){case"success":return H.a.success(t);case"error":return H.a.error(t);default:return null}},J=function(e,t,a){return function(n){return function(e,t){return P.a.post("http://localhost:23000/login",{username:e,password:t})}(e,t).then((function(e){B("success","\u767b\u5f55\u6210\u529f\uff01"),n(function(e,t){return{type:"AUTH",payload:{token:e,history:t}}}(e.data.token,a)),a.push("/")})).catch((function(e){B("error","\u8f93\u5165\u5e10\u53f7\u5bc6\u7801\u9519\u8bef"),console.error(e)}))}},U=a(30),z=a.n(U),q=T.a.Header,M=T.a.Sider,Q=T.a.Content,V=Object(c.b)((function(e){return{isCollapsed:e.layout.isCollapsed}}),(function(e){return{toggle:function(t){e(t?{type:"SIDEBAR_SPREAD"}:{type:"SIDEBAR_COLLAPSE"})},signOut:function(t){e({type:"AUTH_NOT"}),t.push("/login")}}}))((function(e){var t=Object(w.g)(),a=e.isCollapsed,n=e.toggle,l=e.signOut;return r.a.createElement(T.a,{className:z.a.wrapper},r.a.createElement(M,{trigger:null,collapsible:!0,collapsed:a},e.sidebar),r.a.createElement(T.a,null,r.a.createElement(q,{className:z.a.header},r.a.createElement(N.a,{className:z.a.trigger,type:a?"menu-unfold":"menu-fold",onClick:function(){return n(a)}}),r.a.createElement("span",{className:z.a.home},"\u9996\u9875"),r.a.createElement("div",{className:z.a["icon-group"]},r.a.createElement("span",{className:z.a["icon-box"]},r.a.createElement(N.a,{className:z.a.icon,type:"fullscreen"})),r.a.createElement("span",{className:z.a["icon-box"]},r.a.createElement(L.a,{placement:"bottom",title:"\u5b57\u4f53\u5927\u5c0f"},r.a.createElement(N.a,{className:z.a.icon,type:"font-size"}))),r.a.createElement("span",{className:z.a["icon-box"]},r.a.createElement(I.a,{overlay:function(){return function(e,t){return r.a.createElement(j.a,null,r.a.createElement(j.a.Item,null,r.a.createElement("a",{href:"https://github.com/cnscorpions/React-Nest-Admin",target:"_blank",rel:"noopener noreferrer"},"\u6e90\u7801")),r.a.createElement(j.a.Item,{onClick:function(){return e(t)}},r.a.createElement("span",null,"\u9000\u51fa")))}(l,t)},placement:"bottomCenter"},r.a.createElement(N.a,{className:z.a.icon,type:"more"}))))),r.a.createElement(Q,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},e.content)))})),X=a(46),G=a(47),K=a(50),Y=a(48),W=a(51),Z=function(e){function t(){return Object(X.a)(this,t),Object(K.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Home")}}]),t}(n.Component),$=(a(72),a(20)),ee=(a(294),a(204)),te=(a(185),a(38)),ae=(a(162),a(85)),ne=a(106),re=a.n(ne),le=function(e){function t(){var e,a;Object(X.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(K.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),a.props.submitToParent(t))}))},a}return Object(W.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(te.a,{onSubmit:this.handleSubmit,className:re.a["login-form"]},r.a.createElement(te.a.Item,null,e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff01"}]})(r.a.createElement(ae.a,{prefix:r.a.createElement(N.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u5e10\u53f7",autoComplete:"on"}))),r.a.createElement(te.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]})(r.a.createElement(ae.a,{prefix:r.a.createElement(N.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801",autoComplete:"on"}))),r.a.createElement(te.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(ee.a,null,"\u8bb0\u4f4f\u5bc6\u7801")),r.a.createElement("a",{className:re.a["login-form-forgot"],href:"/forget-pwd"},"\u5fd8\u8bb0\u5bc6\u7801"),r.a.createElement($.a,{type:"primary",htmlType:"submit",className:re.a["login-form-button"]},"\u767b\u5f55"),"\u6216 ",r.a.createElement("a",{href:"/home"},"\u73b0\u5728\u6ce8\u518c\uff01")))}}]),t}(n.Component),oe=te.a.create({name:"normal_login"})(le),ce=a(107),ie=a.n(ce);var ue=Object(c.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{changeAuthStateToAuth:function(t,a,n){var r=J(t,a,n);e(r)}}}))((function(e){var t=Object(w.g)(),a=(Object(w.h)().state||{from:{pathname:"/"}}).from,n=e.changeAuthStateToAuth;return r.a.createElement("div",{className:ie.a.wrapper},r.a.createElement("div",{className:ie.a["login-box"]},r.a.createElement("h3",{className:ie.a.title},"\u56fe\u4e66\u7ba1\u7406\u540e\u53f0"),r.a.createElement(oe,{submitToParent:function(e){var r=e.username,l=e.password;n(r,l,t),t.replace(a)}})))})),se=function(e){function t(){return Object(X.a)(this,t),Object(K.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"List")}}]),t}(n.Component);var me=function(e){var t=Object(w.h)();return r.a.createElement("div",null,r.a.createElement("h3",null,"404 not found. ",r.a.createElement("code",null,t.pathname)))},pe=a(70);var he=function(e){return r.a.createElement("div",{className:pe.wrapper+" "+pe.sticky},r.a.createElement("div",{className:pe["btn-group"]},r.a.createElement($.a,{className:pe["btn-help"]},"\u663e\u793a\u5e2e\u52a9"),r.a.createElement($.a,{className:pe["btn-add"]},"\u65b0\u589e\u7535\u5b50\u4e66")))},fe=(a(435),a(202).a.Dragger),be={name:"file",multiple:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?H.a.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&H.a.error("".concat(e.file.name," file upload failed."))}};var de=function(){return r.a.createElement("div",{style:{height:"240px"}},r.a.createElement(fe,be,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(N.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20")))},Ee=a(108),ge=[{label:"\u4e66\u540d",name:"bookName"},{label:"\u4f5c\u8005",name:"author"},{label:"\u51fa\u7248\u793e",name:"publisher"},{label:"\u8bed\u8a00",name:"language"},{label:"\u6839\u6587\u4ef6",name:"rootFile"},{label:"\u6587\u4ef6\u8def\u5f84",name:"filePath"},{label:"\u89e3\u538b\u8def\u5f84",name:"unzipPath"},{label:"\u5c01\u9762\u8def\u5f84",name:"coverPath"},{label:"\u6587\u4ef6\u540d\u79f0",name:"fileName"},{label:"\u5c01\u9762",name:"cover"},{label:"\u76ee\u5f55",name:"catagory"}],_e={labelCol:{span:8},wrapperCol:{span:16}},ye={wrapperCol:{offset:8,span:16}};var Oe=function(e){return r.a.createElement(te.a,Object.assign({},_e,{name:"basic",className:Ee.form}),ge.map((function(e,t){return r.a.createElement(te.a.Item,{key:t,label:e.label,name:e.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\uff01".concat(e.label)}],className:Ee["form-item"]},r.a.createElement(ae.a,null))})),r.a.createElement(te.a.Item,Object.assign({},ye,{className:Ee["form-item-submit"]}),r.a.createElement($.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))},ve=a(201),ke=function(e){function t(){return Object(X.a)(this,t),Object(K.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:ve.wrapper},r.a.createElement(he,null),r.a.createElement(de,null),r.a.createElement(Oe,null))}}]),t}(n.Component),Ne=j.a.SubMenu,je=r.a.createElement(j.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(j.a.Item,{key:"1"},r.a.createElement(A.b,{to:"/"},r.a.createElement(N.a,{type:"dashboard"}),r.a.createElement("span",null,"\u9996\u9875"))),r.a.createElement(Ne,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(N.a,{type:"book"}),r.a.createElement("span",null,"\u56fe\u4e66\u7ba1\u7406"))},r.a.createElement(j.a.Item,{key:"sub1-1"},r.a.createElement(A.b,{to:"/list"},r.a.createElement(N.a,{type:"menu"}),r.a.createElement("span",null,"\u56fe\u4e66\u5217\u8868"))),r.a.createElement(j.a.Item,{key:"sub1-2"},r.a.createElement(A.b,{to:"/add"},r.a.createElement(N.a,{type:"edit"}),r.a.createElement("span",null,"\u6dfb\u52a0\u56fe\u4e66")))),r.a.createElement(j.a.Item,{key:"2"},r.a.createElement("a",{href:"https://github.com/cnscorpions/React-Nest-Admin",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(N.a,{type:"github"}),r.a.createElement("span",null,"Githu")))),Ae=[{path:"/",component:Z,isAuthenticated:!0,role:["root","user"]},{path:"/list",component:se,isAuthenticated:!0,role:["root","user"]},{path:"/add",component:ke,isAuthenticated:!0,role:["root"]}];var we=Object(c.b)((function(e){return{isAuth:e.auth.isAuth}}),null)((function(e){var t=e.isAuth;return r.a.createElement(A.a,null,r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/login"},r.a.createElement(ue,null)),Ae.map((function(e,a){return r.a.createElement(S,{key:a,exact:!0,path:e.path,isAuth:t},r.a.createElement(V,{content:r.a.createElement(e.component,null),sidebar:je}))})),r.a.createElement(w.b,{path:"*"},r.a.createElement(me,null))))}));a(433);var xe=function(){return r.a.createElement(we,null)};o.a.render(r.a.createElement(c.a,{store:v},r.a.createElement(i.a,{loading:null,persistor:k},r.a.createElement(xe,null))),document.getElementById("root"))},70:function(e,t,a){e.exports={wrapper:"sticky_wrapper__2Nn6c","btn-group":"sticky_btn-group__1IlPG","btn-help":"sticky_btn-help__1inQ4","btn-add":"sticky_btn-add__Jhbbi",sticky:"sticky_sticky__1DhND"}}},[[207,1,2]]]);
//# sourceMappingURL=main.5e633562.chunk.js.map